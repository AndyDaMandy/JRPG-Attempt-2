<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Textia</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <script src="classes.js" defer></script>
    <script src="menufunctions.js" defer></script>
    <script src="gamestate.js" defer></script>
    <script src="script.js" defer></script>
       <!-- simple storage --> 
    <script src="https://cdn.jsdelivr.net/npm/simplestorage.js@0.2.1/simpleStorage.min.js" defer></script>
  </head>
  <body onload="check()">
    <header>
    <h1>Textia: a World without Images</h1>
    <p><em>To play, click the buttons below:</em></p>
    </header>
    <!-- Starts Game -->
<div id="begin">
  <h2>Game Start</h2>
  <p><em>Your adventure begins with two friends, Marie and Ando</em></p>
  <button id="start-game" onClick="startGame()">New Game, Click Here</button>
  <button id="continue" onClick="load()" hidden>Continue</button>
</div>
<!-- Menu System below -->
<div id="main-menu" hidden>
  <button id="open-menu" onclick="openMenu()" hidden>Menu</button>
  <button id="save-button" hidden onclick="save()">Save</button>
  <button id="equip-button" hidden onclick="equip()">Equip</button>
 <button id="swap-team" hidden onclick="swapChars()">Swap Team</button>
  <button id="formation-button" hidden onclick="partyFormation()">Formation</button>
  <button id="inventory-button" hidden onclick="showInventory()">Inventory</button>
  <button id="show-stats" onclick="showStats()" hidden>Party Status</button>
  <button id="close-menu" onclick="closeMenu()" hidden>Close Menu</button>
  <hr>
</div>
<div id="save-menu" hidden>
  <p>You saved your game!</p>
</div>
  <div id="equip-screen" hidden>
      <h5>Party:</h5>
      <div id="equipped-text"></div>
      <div id="equip-party"></div>
      <h5>Equipment:</h5>
      <p><em>Click a weapon to select your character, then click on the character to swap your weapon.</em></p>
      <div id="equipment"></div>
     <hr> 
  </div>
<div id="inventory-menu" hidden>
  <h3>Inventory</h3>
  <ul id="inventory-items"></ul>
  <hr>
</div>
<div id="stats-menu" hidden>
  <h3 id="party-status">Your current party: </h3>
  <p><em>Click a character name to view their stats.</em></p>
  <div id="party-btns"></div>
  <h4 id="line-1"></h4>
  <ul id="menu-items"></ul>
  <hr>
  </div>
<div id="swap-menu" hidden>
  <h3>Swap Team:</h3>
  <p><em>Which reserve member will you swap into your party?</em></p>
  <div id="reserve-chars"></div>
  <div id="main-chars"></div>  
  <hr>
</div>
<div id="formation-menu" hidden>
  <h3>Formation:</h3>
  <p><em>Click to establish your party's formation. Once you've selected all your characters hit "Finish Selection" or your party will go back to the previous order</em></p>
  <div id="party-loc"></div>
  <div id="print-party"></div>
  <div id="select-party"></div> 
  <hr>
</div>
<!--Gameplay Elements Below -->
<button id="shop-button" onclick="openShop()" hidden>Shop</button>
<div id="shop" hidden>
  <button id="close-shop" onclick="closeShop()">Close Shop</button>
  <p>Your money:</p>
  <p id="money"></p>
  <h2>Shop</h2>
  <p>We sell all sorts of items here! When you purchase something your inventory will automatically open. To close, hit "close menu"</p>
  <p id="purchased"></p>
  <h2 id="broke" hidden>Not enough money!</h2>
  <div id="shop-items"></div>
  <hr>
<!-- My idea for the shop is to have an array of buttons created containing the items.. It's kind of bold, but we'll see!-->
</div>
<!-- battles go here -->
<div id="battle-mode" hidden>
  <h2>Battle!</h2>
  <div id="enemies">
    <div id="enemy-sel"></div>
  </div>
  <div id="party">     
  </div>
  <ul id="p-stats"></ul>
  <div id="calc">
  </div>
  <div id="info"></div>
  <div id="commands">
    <div id="p-com"></div>
    <div id="skill-slot"></div>
    <div id="item-slot"></div>
  </div> 
  <hr>
  <div id="end"></div>
</div>
<!-- Adventure elements below -->
<div id="adv-mode">
  <div id="town-1" hidden>
    <!-- state = 0 -->
    <h2>Area Town</h2>
    <p>Shaman: "Hello Ando and Marie, today is the day of your pilgrimage."</p>
    <p>"Our town needs a new crystal and you both are going to the Crystal Lake to gather one for us"</p>
    <p>"Without it we cannot protect ourselves from monsters much longer."</p>
    <p>"Allow me to provide you with some information on how to proceed from here:"</p>
    <p>"About you two. Ando specializes in Physical skills, while Marie specializes in Magic"</p>
    <p>"Be sure sure to keep that in mind when you're fighting enemies!"</p>
    <p>"The blessing of the Goddess will heal your wounds after each enemy encounter."</p>
    <p>"To access the menu, click the "Menu" button above. You can check your items, party, skills, etc."</p>
    <p>"If you'd like to move on, click below, or click the shop button above"</p>
    <button onclick="move(1);">Enter Forest</button>
    </div>
  <div id="forest-1" hidden>
    <div id="forest-1-1">
      <!-- state = 1 -->
      <h2>The Forest</h2>   
      <p>You've found yourself in a mysterious forest. It's full of danger at every turn.</p>
      <p>You're worried the danger might be too high, maybe you should head back to town?</p>
      <button onclick="move(0)">Back to Town</button>
      <button onclick="move(2)">To the Large Tree</button>
      </div>
    <div id="forest-1-2" hidden>
      <!-- state = 2 -->
      <h2>The Large Tree</h2>
      <p>You've found a large tree!</p>
      <p>There are enemies near it!</p>
      <p>Will you fight?</p>
      <button onclick="move(1)">Go Back</button>
      <button onclick="battle([goblin, potatoThief, goblin]); statePost = 3;">Fight</button>
      </div>
    <div id="forest-1-3" hidden>
      <!-- state = 3 -->
      <h2>The Large Tree - 2</h2>
      <p>After defeating the enemies you can now approach the tree.</p>
      <p>there you find a treasure chest.</p>
      <p>Will you open it?</p>
      <button id="chest-1" onclick="openChest(potion, this.id)">Open Chest</button>
      <button onclick="move(4)">Move Forward</button>
      </div>
    <div id="forest-1-4" hidden>
      <!-- state = 4 -->
      <h2>The Light in the Darkness</h2>
      <p>Despite the darkness, you glimpse a small light coming through the trees.</p>
      <p>You see an enemy ahead, it looks tough. There are two chests on the ground nearby, will you open it?</p>
      <p>You have no choice but to move ahead.</p>
      <button id="chest-2" onclick="openChest(potion, this.id)">Open Chest</button>
      <button id="chest-3" onclick="openChest(magicPotion, this.id)">Open Chest</button>
      <button onclick="battle([livingTree]); statePost = 5;">Move Forward</button>     
      </div>
    <div id="forest-1-5" hidden>
      <!-- state = 5 -->
      <h2>The End of the Forest</h2>
      <p>You've defeated living tree!</p>
      <p>The living tree dropped a chest, Will you open it?</p>
      <p>Now that the exit is ahead, it's time for you to move on</p>
      <button id="chest-4" onclick="openWeapon(ironSword, this.id)">Open Chest</button>
      <button onclick="move(6)">Move Foward</button>
    </div>
  </div>
  <div id="town-2" hidden>
    <div id="town-2-1">
      <!-- state = 6 -->
      <h2>Magnolia Town</h2>
      <p>Here you see plenty of townspeople. Further into town you think you see a shop. Perhaps you should get closer?</p>
      <p>You also see a man handing out what appears to be a newspaper</p>
      <p>Will you take one?</p>
      <button id="newspaper-1" onclick="alertOne()">Read Paper</button>
      <button onclick="move(7)">Go to Chapel</button>
      <button onclick="move(8)">Go further into town</button>
    </div>
    <div id="town-2-chapel">
      <!-- state = 7 -->
      <h2>Chapel</h2>
      <p>You see a shaman, you approach him.</p>
      <p>"Hello there! I see you're adventurers! The enemies out there are powerful, it'd be in your best interest to prepare yourself"</p>
      <p>"I can summon a creature for you to practice on"</p>
      <p>"While there's no money in this, I can keep summoning creatures until you feel comfortable"</p>
      <p>"I've held enough funerals for adventurers....I want to help."</p>
      <button onclick="move(6)">Go Back</button>
      <button onclick="battle([familiar]); statePost = 7;">Summon Familar</button>
    </div>
    <div id="town-2-2">
      <!-- state = 8 -->
      <h2>Magnolia Town - Town Square</h2>
      <p>You see a shop nearby, you think it might be good to stock up on items.</p>
      <p>There's a fountain ahead, you realize you've never seen so much water in one place</p>
      <p><em>Ando and Marie take a moment to reflect on how far they've come.</em></p>
      <button onclick="move(6)">Go Back</button>
      <button onclick="move(9)">Go to end of Town</button>
    </div>
    <div id="town-2-3">
      <!-- state = 9 -->
      <h2>The end of Magnolia Town</h2>
      <p>You've made it to the end of Magonlia Town.</p>
      <p><em>Marie and Ando see a young woman with a backpack and a bow coming their way</em></p>
      <p>The woman: "I see you two appear to be on a pilgrimage. My name's Julie, I'm on a pilgrimage for Solar Town"</p>
      <p>Julie: "Maybe we should team up? It'd be safer if we traveled together."</p>
      <p>Will you let Julie join you? You may not see her again if your paths diverge here.</p>
      <button id="add-julie" onclick="addJulie(this.id)">Let Julia Join</button>
      <button onclick="move(8)">Go Back</button>
      <button onclick="move(10)">Move Forward</button>
    </div>
    <div>
  </div>

  </div>
<div id="plains-1" hidden>
  <div id="plains-1-1">
    <!-- state = 10 -->
    <h2>Great Maka Plains</h2>
    <p>After leaving town you see a great plain that extends as far as the eye can see.</p>
    <p>The wind makes little waves out of the flowing grass.</p>
    <p>You see small creatures running around in the distance.</p>
    <p>You can still go back to town, but if you go further you know you will not be able to return.</p>
    <p>A group of bats are coming your way, to go forward you must fight!</p>
    <button onclick="move(9)">Go Back</button>
    <button onclick="battle([bat, bat, bat]); statePost = 11;">Fight!</button>
  </div>
  <div id="plains-1-2">
    <!-- state = 11 -->
    <h2>Great Maka Plains - Further in</h2>
    <p>You see what appears to be bison in the distance</p>
    <p>They're glowing yellow, certainly not the kind of bison you're used to.</p>
    <p>They spot you! They're attacking!</p>
    <button onclick="battle([sparkBison, sparkBison, sparkBison]); statePost = 12;">Fight!</button>
  </div>
  <div id="plains-1-3">
    <!-- state = 12 -->
    <h2>Great Maka Plains - Watering Hole</h2>
    <p>All done</p>
  </div>
  </div>
<!-- Adv mode Div -->
</div>
  </body>
</html>